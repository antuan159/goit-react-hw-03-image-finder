(this["webpackJsonpreact-group-7"]=this["webpackJsonpreact-group-7"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__2oJIz",modal:"Modal_modal__1mQbe"}},15:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__dNHur"}},16:function(e,t,a){e.exports={button:"LoadMore_button__27xmz"}},17:function(e,t,a){e.exports={app:"App_app__HjQfw"}},18:function(e,t,a){e.exports=a(47)},2:function(e,t,a){e.exports={"photo\u0421ard":"PhotoCard_photo\u0421ard__12K4y",stats:"PhotoCard_stats__2EspV",statsItem:"PhotoCard_statsItem__12uI2",fullscreenButton:"PhotoCard_fullscreenButton__1RmBI"}},23:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),c=(a(23),a(11)),l=a(3),i=a(4),u=a(6),m=a(5),d=a(7),p=a(13),h=a.n(p),f=(a(45),a(14)),g=(a(46),a(2)),b=a.n(g),y=function(e){var t=e.likes,a=e.views,n=e.comments,o=e.downloads,s=e.webformatURL,c=e.tags,l=e.id,i=e.onImageLarge;return r.a.createElement("div",{className:b.a.photo\u0421ard},r.a.createElement("img",{src:s,alt:c}),r.a.createElement("div",{className:b.a.stats},r.a.createElement("p",{className:b.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up "),t),r.a.createElement("p",{className:b.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),a),r.a.createElement("p",{className:b.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),n),r.a.createElement("p",{className:b.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),o)),r.a.createElement("button",{type:"button",className:b.a.fullscreenButton,onClick:function(){i(l)}},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},v=a(9),_=a.n(v),E=function(e){var t=e.cards,a=e.onImageLarge;return r.a.createElement("ul",{className:_.a.gallery},t.map((function(e){return r.a.createElement("li",{key:e.id,className:_.a.galleryItem},r.a.createElement(y,{likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,webformatURL:e.webformatURL,tags:e.tags,id:e.id,onImageLarge:a}))})))},C=a(15),w=a.n(C),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.handleChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.query),a.setState({query:""})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("form",{className:w.a.searchForm,onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:e,onChange:this.handleChange}))}}]),t}(n.Component),O=a(16),k=a.n(O),j=function(e){var t=e.onClick,a=e.disabled;return r.a.createElement("button",{type:"button",className:k.a.button,onClick:t,disabled:a},"LoadMore")},L={fetchCards:function(e,t){var a="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=14155377-b5b6b49493d016d7b1207d603");return fetch(a).then((function(e){return e.json()})).then((function(e){return e.hits}))}},S=a(17),I=a.n(S),M=function(){var e={top:document.documentElement.offsetHeight,left:0,behavior:"smooth"};window.scrollTo(e)},q=a(10),x=a.n(q),P=document.querySelector("#modal-root"),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).overleyRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleOverleyClick=function(e){var t=a.overleyRef.current;t&&e.target!==t||a.props.onClose()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.src;return Object(o.createPortal)(r.a.createElement("div",{className:x.a.overlay,ref:this.overleyRef,onClick:this.handleOverleyClick,role:"presentation"},r.a.createElement("div",{className:x.a.modal},r.a.createElement("img",{src:e,alt:"big-foto"}))),P)}}]),t}(n.Component),F=new f.a,B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={cards:[],query:"",pageNumber:1,isLoading:!1,error:null,imageLarge:null,isModalOpen:!1},a.onSubmit=function(e){a.setState({query:e,pageNumber:1,cards:[]})},a.fetchCards=function(){var e=a.state,t=e.query,n=e.pageNumber;a.setState({isLoading:!0}),L.fetchCards(t,n).then((function(e){a.setState((function(t){return{cards:[].concat(Object(c.a)(t.cards),Object(c.a)(e)),pageNumber:t.pageNumber+1}}))})).catch((function(e){a.setState({error:e})})).finally((function(){a.setState({isLoading:!1},M)}))},a.onImageLarge=function(e){var t=a.state.cards.find((function(t){return t.id===e}));t&&a.setState({imageLarge:t.largeImageURL},a.openModal)},a.openModal=function(){return a.setState({isModalOpen:!0})},a.closeModal=function(){return a.setState({isModalOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.query;t.query!==a&&this.fetchCards()}},{key:"render",value:function(){var e=this.state,t=e.cards,a=e.isLoading,n=e.error,o=e.imageLarge,s=e.isModalOpen;return r.a.createElement("div",{className:I.a.app},r.a.createElement(N,{onSubmit:this.onSubmit}),n&&F.error(n.message),a&&r.a.createElement(h.a,{type:"Puff",color:"#00BFFF",height:50,width:50}),t.length>0&&r.a.createElement(E,{cards:t,onImageLarge:this.onImageLarge}),t.length>0&&r.a.createElement(j,{onClick:this.fetchCards,disabled:a}),s&&r.a.createElement(R,{src:o,onClose:this.closeModal}))}}]),t}(n.Component);s.a.render(r.a.createElement(B,null),document.getElementById("root"))},9:function(e,t,a){e.exports={gallery:"Gallery_gallery__1ktjC"}}},[[18,1,2]]]);
//# sourceMappingURL=main.12ebddc1.chunk.js.map