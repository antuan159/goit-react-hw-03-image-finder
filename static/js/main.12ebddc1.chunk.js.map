{"version":3,"sources":["components/Modal/Modal.module.css","components/SearchForm/SearchForm.module.css","components/LoadMore/LoadMore.module.css","components/App/App.module.css","components/PhotoCard/PhotoCard.module.css","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/SearchForm/SearchForm.jsx","components/LoadMore/LoadMore.jsx","components/Services/api.js","components/Services/scrollPage.js","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/Gallery/Gallery.module.css"],"names":["module","exports","PhotoCard","likes","views","comments","downloads","webformatURL","tags","id","onImageLarge","className","styles","photo小ard","src","alt","stats","statsItem","type","fullscreenButton","onClick","Gallery","cards","gallery","map","item","key","galleryItem","SearchForm","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","searchForm","autoComplete","placeholder","onChange","Component","LoadMore","disabled","button","fetchCards","pageNumber","path","fetch","then","res","json","data","hits","scrollPage","scroll","top","document","documentElement","offsetHeight","left","behavior","window","scrollTo","MODAL_ROOT","querySelector","Modal","overleyRef","createRef","handleKeyPress","code","onClose","handleOverleyClick","current","addEventListener","removeEventListener","createPortal","overlay","ref","role","modal","notyf","Notyf","App","isLoading","error","imageLarge","isModalOpen","api","prevState","catch","finally","tmp","find","largeImageURL","openModal","closeModal","prevProps","app","message","color","height","width","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.12ebddc1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2oJIz\",\"modal\":\"Modal_modal__1mQbe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__dNHur\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__27xmz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__HjQfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo小ard\":\"PhotoCard_photo小ard__12K4y\",\"stats\":\"PhotoCard_stats__2EspV\",\"statsItem\":\"PhotoCard_statsItem__12uI2\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__1RmBI\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  likes,\n  views,\n  comments,\n  downloads,\n  webformatURL,\n  tags,\n  id,\n  onImageLarge,\n}) => (\n  <div className={styles.photo小ard}>\n    <img src={webformatURL} alt={tags} />\n\n    <div className={styles.stats}>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">thumb_up </i>\n        {likes}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n    <button\n      type=\"button\"\n      className={styles.fullscreenButton}\n      onClick={() => {\n        onImageLarge(id);\n      }}\n    >\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  onImageLarge: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport T from 'prop-types';\nimport PhotoCard from '../PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ cards, onImageLarge }) => (\n  <ul className={styles.gallery}>\n    {cards.map(item => (\n      <li key={item.id} className={styles.galleryItem}>\n        <PhotoCard\n          likes={item.likes}\n          views={item.views}\n          comments={item.comments}\n          downloads={item.downloads}\n          webformatURL={item.webformatURL}\n          tags={item.tags}\n          id={item.id}\n          onImageLarge={onImageLarge}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  cards: T.arrayOf(\n    T.shape({\n      id: T.number.isRequired,\n      likes: T.number.isRequired,\n      views: T.number.isRequired,\n      comments: T.number.isRequired,\n      downloads: T.number.isRequired,\n      webformatURL: T.string.isRequired,\n      tags: T.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onImageLarge: T.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={query}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './LoadMore.module.css';\n\nconst LoadMore = ({ onClick, disabled }) => (\n  <button\n    type=\"button\"\n    className={styles.button}\n    onClick={onClick}\n    disabled={disabled}\n  >\n    LoadMore\n  </button>\n);\n\nLoadMore.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n};\n\nexport default LoadMore;\n","const fetchCards = (query, pageNumber) => {\n  const path = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=14155377-b5b6b49493d016d7b1207d603`;\n  return fetch(path)\n    .then(res => res.json())\n    .then(data => data.hits);\n};\n\nexport default {\n  fetchCards,\n};\n","const scrollPage = () => {\n  const height = document.documentElement.offsetHeight;\n  const scroll = {\n    top: height,\n    left: 0,\n    behavior: 'smooth',\n  };\n\n  window.scrollTo(scroll);\n};\n\nexport default scrollPage;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst MODAL_ROOT = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  overleyRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  handleOverleyClick = e => {\n    const { current } = this.overleyRef;\n    if (current && e.target !== current) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { src } = this.props;\n    return createPortal(\n      <div\n        className={styles.overlay}\n        ref={this.overleyRef}\n        onClick={this.handleOverleyClick}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>\n          <img src={src} alt=\"big-foto\" />\n        </div>\n      </div>,\n      MODAL_ROOT,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { Notyf } from 'notyf';\nimport 'notyf/notyf.min.css';\nimport Gallery from '../Gallery';\nimport SearchForm from '../SearchForm';\nimport LoadMore from '../LoadMore';\nimport api from '../Services/api';\nimport styles from './App.module.css';\nimport scrollPage from '../Services/scrollPage';\nimport Modal from '../Modal';\n\nconst notyf = new Notyf();\n\nexport default class App extends Component {\n  state = {\n    cards: [],\n    query: '',\n    pageNumber: 1,\n    isLoading: false,\n    error: null,\n    imageLarge: null,\n    isModalOpen: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n    if (prevState.query !== query) {\n      this.fetchCards();\n    }\n  }\n\n  onSubmit = query => {\n    this.setState({ query, pageNumber: 1, cards: [] });\n  };\n\n  fetchCards = () => {\n    const { query, pageNumber } = this.state;\n    this.setState({ isLoading: true });\n    api\n      .fetchCards(query, pageNumber)\n      .then(hits => {\n        this.setState(prevState => ({\n          cards: [...prevState.cards, ...hits],\n          pageNumber: prevState.pageNumber + 1,\n        }));\n      })\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false }, scrollPage);\n      });\n  };\n\n  onImageLarge = e => {\n    const tmp = this.state.cards.find(item => item.id === e);\n    if (tmp) {\n      this.setState({ imageLarge: tmp.largeImageURL }, this.openModal);\n    }\n  };\n\n  openModal = () => this.setState({ isModalOpen: true });\n\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { cards, isLoading, error, imageLarge, isModalOpen } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm onSubmit={this.onSubmit} />\n        {error && notyf.error(error.message)}\n        {isLoading && (\n          <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} />\n        )}\n        {cards.length > 0 && (\n          <Gallery cards={cards} onImageLarge={this.onImageLarge} />\n        )}\n        {cards.length > 0 && (\n          <LoadMore onClick={this.fetchCards} disabled={isLoading} />\n        )}\n        {isModalOpen && <Modal src={imageLarge} onClose={this.closeModal} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1ktjC\"};"],"sourceRoot":""}